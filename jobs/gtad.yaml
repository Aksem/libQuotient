preprocess:
  "%CLIENT_RELEASE_LABEL%": r0
  "%CLIENT_MAJOR_VERSION%": r0
  # FIXME: the below only fixes C++ compilation but not actual work - the code
  # will try to reach out for wrong values in JSON payloads
  "signed:": "signedData:"
  "unsigned:": "unsignedData:"
  "default:": "isDefault:"

# Structure:
# swaggerType: <targetTypeSpec>
# OR
# swaggerType:
#   - swaggerFormat: <targetTypeSpec>
#   - /swaggerFormatRegEx/: <targetTypeSpec>
#   - //: <targetTypeSpec> # default, if the format doesn't mach anything above
# WHERE
# targetTypeSpec = targetType OR
#   { type: targetType, imports: <filename OR [ filenames... ]>, <other attributes...> }
types:
  integer:
  - int64: qint64
  - int32: qint32
  - //: int
  number:
  - float: float
  - //: double
  boolean: bool
  string:
  - byte: &QByteArray
      type: QByteArray
      string?: true
      imports: <QtCore/QByteArray>
  - binary: *QByteArray
  - date: { type: QDate, "avoidCopy?": true, imports: <QtCore/QDate> }
  - dateTime:
      type: QDateTime
      avoidCopy?: true
      imports: <QtCore/QDateTime>
  - //:
      type: QString
      string?: true
      avoidCopy?: true
      imports: <QtCore/QString>
  file:
    type: QByteArray
    imports: <QtCore/QByteArray>
  object:
    type: QJsonObject
    avoidCopy?: true
    imports: <QtCore/QJsonObject>
  array:
  - /.+/:
      type: "QVector<{{1}}>"
      avoidCopy?: true
      imports: <QtCore/QVector>
  - //: { type: QJsonArray, "avoidCopy?": true, imports: <QtCore/QJsonArray> }
  schema:
    avoidCopy?: true

#operations:

env:
  _scopeRenderer: "{{scopeCamelCase}}Job::"
  _literalQuote: '"'
  maybeCrefType: "{{#avoidCopy?}}const {{/avoidCopy?}}{{dataType.name}}{{#avoidCopy?}}&{{/avoidCopy?}}"
  qualifiedMaybeCrefType: "{{#avoidCopy?}}const {{/avoidCopy?}}{{dataType.qualifiedName}}{{#avoidCopy?}}&{{/avoidCopy?}}"
#  preamble: preamble.mustache
  copyrightName: Kitsune Ral
  copyrightEmail: <kitsune-ral@users.sf.net>
#  imports: { set: }
#  returnFile?: { bool: false }

templates:
- "{{base}}.h.mustache"
- "{{base}}.cpp.mustache"

#outFilesList: apifiles.txt

